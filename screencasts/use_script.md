Tutorial - Using a Service  In this screencast we quickly show how to use a StackHut service from within your application, be it written in Python, client-side/server-side JS, Ruby, .NET and more.  

 

Selecting a service  You can find all manner of services, from video encoding, to complression, onine-compilation, web scraping, and more, on the StackHut repository (ref). Even better, develop or fork an exiting sservice.  So, to start off with I'm going to use the ``demo-python`` service, which we show how to create in a corresponding screencast.  So let's have a look here. First we have the interactive post playground, already configured with an example.   So all StackHut services can be accessed and consumed via a direct HTTP POST request. On receving a request, the StackHut host platform will spin-up a container on demand to complete your request. To communicate with the service we have chosen to use JSON-RPC.  As a result any StackHut service can easily be consumed by construuted a JSON-RPC request in any language - thankfully JSON-RPC is very simple and this is much simpler than it sounds!  In this example JSON-RPC reqeust, we call the method ``helloName`` in the StackHut service ``example-python`` with a single parameter ``StackHut``. ``Params`` is a JSON list that contain any JSON types, i.e. flaots, strings, lists and objects.  Let's run that and see what happens...wow, that was quick. So, internlly all we are doing is making a POST reuest to api.stackhut.com/run, the exat same code you would write yourself if acessessing StacHut from client-side JavaScript.  Ok, now let's look at a successful request object. The ``response`` object is a JSON-RPC response, where the data we're after can be found in the ``result`` field - in this case a string containing the text ``Hello, StackHut :)``.  Let's take a look at what other APIs this service allows...ok, so here is an add function, let's try that, but this time from the console.   We can do this by using the great command-line tool ``http`` to sending the POST request, with content-type ``application/json`` to ``https://api.stackhut.com/run``. So here is a JSON-RPC request I made earlier --- and let's send it::  http POST https://api.stackhut.com/run < ./test_request.json   So there's a bunch of output here, HTTP headers, and so on - but let's look at the HTTP response body - yep, here's the ``result`` object field. So it turns out 2 + 2 is 4, great!  

You can do this yourself from any language that support JSON HTTP requests, and hopefully you can see how simple it is to access a StacHut service within your own code. We also have client-side libraries to make this even easier under development - sign up for more information and please view other other screencasts on creating a StackHut service.    

